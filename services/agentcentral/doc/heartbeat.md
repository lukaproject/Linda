# Heart Beat

这是保持agent存活的重要功能。

## 计算节点加入

计算节点主动发起websocket请求并带上自身的节点信息，agentcentral接收到之后，回复agent是否加入成功，就进入保活阶段

## 保活

- agent会定时给agentcentral发送心跳包，其中包含节点资源信息以及任务执行信息
- agentcentral会有一个定时任务，删除一直没有心跳上报请求的计算节点

## 计算节点移除

- 计算节点长时间没有心跳包就会被直接移除
- 如果是用户请求的移除计算节点，会在下一次接收到请求心跳包的时候，将计算节点被移除这个信息交付给计算节点